<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-AU">
  <head>
   <link rel="openid.server" href="http://www.livejournal.com/openid/server.bml" />
   <link rel="openid.delegate" href="http://paulproteus.livejournal.com/" />
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
    <meta name="author" content="root"/>
    <meta name="generator" content="Bluefish 1.0.4"/>
    <link rel="alternate" type="application/atom+xml" 
    href="http://asheesh.org/index.atom" />

    <!-- Navigational metadata for large websites (an accessibility feature): -->
    <link rel="top"      href="./index.html" title="Homepage" />
    <link rel="up"       href="./index.html" title="Up" />
    <link rel="first"    href="./index.html" title="First page" />
    <link rel="previous" href="./index.html" title="Previous page" />
    <link rel="next"     href="./index.html" title="Next page" />
    <link rel="last"     href="./index.html" title="Last page" />
    <link rel="toc"      href="./index.html" title="Table of contents" />
    <link rel="index"    href="./index.html" title="Site map" />

<!-- Change the path to your .css file. This should reflect the weblocation -->
    <link rel="stylesheet" type="text/css" href="/html.flav/gila-screen.css" media="screen" title="Gila (screen)" />
    <link rel="stylesheet" type="text/css" href="/html.flav/gila-print.css" media="print" />
	
	<!--  title is pulled from blosxom -->
    <title></title>
  </head>

  <body>
    <!-- For non-visual user agents: -->
      <div id="top"><a href="#main-copy" class="doNotDisplay doNotPrint">Skip to main content.</a></div>

    <!-- ##### Header ##### -->

    <div id="header">
      <h1 class="headerTitle">
     <!-- again the global variables are pulled from blosxom -->
        <a href="/" title="Browse to homepage">Asheeshworld <span>Notes you will like</span></a>
      </h1>

      <div class="subHeader">
        <span class="doNotDisplay">Navigation: </span>
        <!-- change or add the following links to represent what you want -->
        <a href="/about/">About</a> |
        <a href="/mmm/">Mmm</a> |
	<a href="/note/">Notes</a> |
        <a href="/rmad/">RMAD</a> |
        <a href="/dwad/">DWAD</a> |
        <a href="/scribble/">Scribbles</a> |
        <a href="/projects/">Projects</a>
      </div>
    </div>
    <div id="side-bar">

      <!-- ##### Left Sidebar ##### -->
	<!-- If you want to use the Blosxom Plugin "menu" by Fletcher T. Penney, leave this area alone... put the menu file in your plugins dir-->
      <div class="leftSideBar">
        <p class="sideBarTitle">Menu</p>
        <ul>
          <li><a href="/">Home</a></li>
          <li></li>
        </ul>  
        <p class="sideBarTitle">This section</p> 
         <ul><li>Jotted-down notes at the intersection of my mind and permanence</li></ul>
   
        <p class="sideBarTitle">Recycling the past</p>
        <span class="sideBarText">
          
        </span>

        <p class="sideBarTitle">Comments</p>
        <span class="sideBarText">
          Comments are welcome.  Email me.
        </span>
      </div>

	<!-- if you want to manually set up your menus.. commnet above .. and uncomment the following and manipulate to your liking. -->
	<!--
      <div class="leftSideBar">
        <p class="sideBarTitle">This Page</p>
        <ul>
          <li><a href="#introduction">Introduction</a></li>
          <li><a href="#cross-browser" title="Improved cross-browser compatibility">Cross-browser</a></li>
          <li><a href="#stylesheets" title="Modified stylesheets">Stylesheets</a></li>
          <li><a href="#accessibility" title="Improved accessibility">Accessibility</a></li>
        </ul>

        <p class="sideBarTitle">Branch Navigation</p>
        <ul>
          <li><a href="http://www.oswd.org/index.phtml">OSWD Home</a></li>
          <li><a href="http://www.oswd.org/browse.php">Browse Designs</a></li>
          <li><a href="http://www.oswd.org/userinfo.phtml?user=haran">haran&rsquo;s Designs</a></li>
          <li><span class="thisPage" title="That's this page!">Gila Homepage</span></li>
        </ul>

        <p class="sideBarTitle">Comments</p>
        <span class="sideBarText">
          Comments and constructive criticisms are welcome
          <a href="http://www.oswd.org/email.phtml?user=haran" title="Email form">via email</a>.
        </span>
      </div>
	-->


      <!-- ##### Right Sidebar ##### 

      <div class="rightSideBar">
        

        <p class="sideBarTitle">Downloads</p>

        <div class="sideBarText"><strong>"Gila" Skin for Blosxom</strong><br />

      </div>
      -->

    </div>  
         <div id="main-copy">
        <!-- <h1 id="introduction" style="border-top: none; padding-top: 0;"></h1>
       </div>
       -->
<h2>Sun, 27 Apr 2014</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/personal-backups.html">Personal backups
</a>
       </h1>
		<p>My main computers nowadays are:
</p>
<ul><li> My personal laptop.
</li></ul>
<ul><li> My work laptop.
</li></ul>
<ul><li> My phone.
</li></ul>
<p>Given that, and given my propensity to start large fun home networking related projects
but then leave them unfinished, here is my strategy for having reliable backups of my
personal laptop:
</p>
<ul><li> Buy an external hard disk, preferably the kind that requires no external power supply.
</li></ul>
<ul><li> Store it at work, and make an encrypted filesystem on it.
</li></ul>
<ul><li> Once per two weeks, take my personal laptop to work, where I will connect the external disk over USB, and do backups to it using e.g. <a href="http://www.dirvish.org/">dirvish</a> (which is something like Apple's Time Machine software).
</li></ul>
<ul><li> When the backup finishes, use a post-it note to write today's date on the external disk, then put it back in my work filing box.
</li></ul>
<p>This seems to have the following advantages:
</p>
<ul><li> No decrease in privacy -- the data is stored encrypted.
</li></ul>
<ul><li> Convenient off-site storage.
</li></ul>
<ul><li> I don't have to be thoughtful about <i>what</i> I am backing up.
</li></ul>
<ul><li> Since I'll be using dirvish, restoring data will be easy.
</li></ul>
<p>If people have any thoughts about this, or do things a different way and have pros or cons to share, I'd love to hear.
</p><p>I realize this doesn't protect my phone or work laptop. I'll work on those some other time.
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/personal-backups.html">permanent link and comments</a></i>
		</p>
    
<h2>Sun, 28 Jul 2013</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/wifi-repeaters.html">Recommendations on setting up wifi repeaters
</a>
       </h1>
		<p>My old housemate Will emailed me saying he wanted to get a second wifi router to use
as a repeater. I realized that I haven't written my standard recommendation down ever,
just repeatedly used it to great success. So, here it is:
</p><p>My general recommendation here is to build your own "wifi repeater" out of two "wifi routers",
rather than buying something that calls itself a repeater. It relies on Ethernet
bridging rather than any advanced wifi technology, which in my opinion makes it easy
to diagnose.
</p>
<pre>
 +---------------------------------------------------------------------+
 |   Main wifi router                                                  |
 |  uplink                  port 1    port 2       port 3      port 4  |
 +-+-----+-----------------+------+--+---------+--+-------+---+------+-+
   |     |                 |      |  |         |  |       |   |      |
   +-----+                 +---+--+  +---------+  +-------+   +------+
     |                         |
     |                         |
     |                         |
     V                         |
  +-----------+                |
  | cable     |                |
  | modem or  |                |
  | whatever  |                |
  +-----------+                V
                        +----------------+                    +------------------------+
                        |                |  a/c power         |                        |
                        | ethernet over  +-------------------&gt;| ethernet over          |
                        | powerline      |                    | powerline              |
                        +----------------+                    +----------+-------------+
                                                                         |
                                                                         |
  DO NOT USE!!!        +------+                                          V      
+---------------------&gt;|      |            +-------+   +---------+  +----------+  +--------+
                       |uplink|            |port 1 |   | port 2  |  |port 3    |  | port 4 |
                       +------+------------+-------+---+---------+--+----------+--+--------+
                       |   second wifi router  (DISABLE DHCP on internal network on 2nd rtr)
                       +----------------------------------------------------------+--------+
</pre>
<p>If you don't want to do ethernet over powerline between them, you can do regular old
Ethernet.
</p><p>Crucially, you must disable DHCP for the second wifi router. Then anyone on the second
network will have their DHCP broadcasts answered by the first wifi router.
</p><p>Also you should manually set the admin IP on the second router to something like
192.168.1.2 if the main network uses 192.168.1.1 as the admin IP address.
</p><p>Do not connect the second network's uplink port to anything.
</p><p>It doesn't really matter if you set the ESSID (network name) of both networks to be the
same or different. I would gently recommend setting them to be the same, and have the
same key, so people's laptops can happily roam between them.
</p><p>Note also that if you need wired network connectivity for computers near "2nd router",
any computers you plug into the "port 1-4" ports will work fine. And the choice of port 1
on "Main wifi router" and "port 3" for "second wifi router" as the connection points
is totally arbitrary.
</p><p>Happy wifi-ing!
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/wifi-repeaters.html">permanent link and comments</a></i>
		</p>
    
<h2>Mon, 06 May 2013</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/restored-wiki.html">asheesh.org/scratch/ back in business
</a>
       </h1>
		<p>For a few years, I had been storing public notes to myself (that might possibly be useful to others) at
http://asheesh.org/scratch/.
</p><p>Then OpenHatch happened in May 2009, and I paid decreasing attention to that site.
</p><p>Eventually, as a semi-unprotected MediaWiki instance, it became spammed to smithereens.
</p><p>Last night and this morning, I did the following things:
</p>
<ul><li> Made it so only sysops can edit the site.
</li></ul>
<ul><li> Clicked every link off the front page, and manually reverted it to the most recent non-vandalized page I could find.
</li></ul>
<p>Now you can more easily read my scratchy notes, like:
</p>
<ul><li> <a href="http://asheesh.org/scratch/Sha-thing">SHA-Thing</a>
</li><li> <a href="http://asheesh.org/scratch/Groceries_in_West_Philly">my notes on grocery stores in West Philadelphia</a>
</li><li> <a href="http://asheesh.org/scratch/Geek_legal_fallacies">Geek legal fallacies</a>
</li></ul>
<p>Honestly, it is a <i>huge</i> relief to see those old bits of text back on the web. It makes me feel so much more pleasantly connected to the timeline.
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/restored-wiki.html">permanent link and comments</a></i>
		</p>
    
<h2>Fri, 25 Jun 2010</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/backups.html">rose in Japan is down; time to make backups
</a>
       </h1>
		<p>For some reason, my server in Japan is down. (This website is hosted from Minnesota.)
For that reason, <a href="http://fcostatus.wordpress.com/2010/06/26/website-down-in-process-of-moving/">freeculture.org is down</a>.
</p><p>Today is a good day to remember that I should make frequent backups. I'm doing a 
backup run of the Minnesota machine right now.
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/backups.html">permanent link and comments</a></i>
		</p>
    
<h2>Sun, 26 Apr 2009</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/comments.html">Comments
</a>
       </h1>
		<p>What if there were comments on asheesh.org?
</p><p>Discuss.
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/comments.html">permanent link and comments</a></i>
		</p>
    
<h2>Sun, 05 Oct 2008</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/qemu-ip-address-patch.html">qemu IP address patch
</a>
       </h1>
		<p>I sometimes use the qemu virtualization system, or its cousin kvm, for creating
virtual computers to test software in.  Conveniently, qemu makes networking
those really easy.
</p><p>Unfortunately, the IP addresses it assigns for virtualization happen to be in the 
same subnet as my desktop at work (at CC, 10.0.2.x).  I had some fear of
changing a piece of software as presumably complex as qemu.
</p><p>I forged ahead and came up with a <a href="http://www.mail-archive.com/qemu-devel@nongnu.org/msg15809.html">patch that I posted to the qemu-devel mailing list</a>.
I'm just wring this post in case someone wonders, "How can I change the IP
address of the user net layer used by qemu to avoid a conflict?"
</p><p>The answer is as easy as replacing the string "10.0.2" with "10.0.3" globally
across the qemu codebase and recompiling.  If that mailing list post ever goes away,
I have a <a href="http://www.asheesh.org/pub/qemu-patch/qemu-10.0.3.x.2008-10-05.patch">local copy of the patch</a>.
</p><p>(This work was sponsored by CC, but pending an okay from CC, you should be free 
to use it under the terms of the <a href="http://sam.zoy.org/wtfpl/">WTFPL</a>.)
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/qemu-ip-address-patch.html">permanent link and comments</a></i>
		</p>
    
<h2>Sat, 04 Oct 2008</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/vhost_effort.html">What are your most expensive websites to run?  Patching Apache to find out
</a>
       </h1>
		<p>When running a busy webserver, one may want to know how much
<b>server</b> time is spent preparing each request.  That would be
especially useful if broken-down per web site you host.  Server
processing time indicates things like how long MySQL queries took, or
how loaded the disks are; in general, they are the measure of how difficult
it was to answer a request.  It may also be interesting to compare
server time spent processing a request today to the same request's time
in the past as an indication of how system changes (upgraded disks, more
complex filesystem) have affected your ability to process web requests.
</p><p>Apache's <a href="http://httpd.apache.org/docs/2.0/mod/mod_log_config.html">mod_log_config</a> lets you log how long a request takes from 
start to end, which includes the amount of time taken to send the actual data.  That can be imagined as server_processing_time +
time_to_send_data_to_client.  I wasn't interested in seeing how slow or fast clients' net connections were.
</p><p>In a project I named vhost_effort, I wrote a patch to Apache to be able 
to log just that server time spent from the start of the request to when 
the request is ready to be sent.  That work was done at Creative 
Commons, and the software results are available under the Apache 2.0 
license.  vhost_effort.py is a hack that generates a pie graph for how 
much server time is spent on each vhost (among other sorts of 
visualizable statistics).  I began thinking of using a visualizer
for disk usage to make the pie graph interactive, but by the time
I was nearly done working that out we had already gathered all
the data we needed.
</p><p>My <a href="http://www.asheesh.org/projects/">projects page</a> has a link to the
code in the Creative Commons Subversion repository.  I did 
<a href="http://labs.creativecommons.org/2007/08/13/a-patchy-web-server/">write about this at labs.creativecommons.org</a> a year ago also.
</p><p><a href="http://code.creativecommons.org/svnroot/log_analysis/vhost_effort/">Code in Creative Commons Subversion</a>.
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/vhost_effort.html">permanent link and comments</a></i>
		</p>
    
<h2>Fri, 26 Sep 2008</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/announce-reply-to.html">Announce and discuss lists</a>
       </h1>
		
<p> I have a habit of entering a community and leaving both an announce 
and a discuss list wherever I go.  The wisdom of this is still 
unresolved.  I thought I'd share one thing I do beyond that: set the reply-to header on the announce list to go to the discuss list.</p>

<p>That way, when there's an announcement and the peanut gallery wants 
to add something, they'll reply and the people interested in hearing 
more will hear it.</p>

<p>I remembered this upon reading that the <a 
href="http://balug.org">BALUG</a> lists have the same sort of split, and 
that in particular that they were considering (on an opt-out basis) <a 
href="http://lists.balug.org/pipermail/balug-admin-balug.org/2007-October/000419.html">auto-adding 
people from discuss to announce</a>.</p>


		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/announce-reply-to.html">permanent link and comments</a></i>
		</p>
    
<h2>Thu, 21 Aug 2008</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/ddrescue.html">dd, dd_rescue, and ddrescue
</a>
       </h1>
		<p>The short answer: "Use GNU ddrescue.  GNU stands for Quality."
</p><p>dd is a classic UNIX utility to read from and write to files (often devices).
Typically, one uses it to copy a hard disk to a file, or to image a hard drive
by copying a backup onto it.
</p><p>One hits a problem when the hard disk has errors.  In this case, dd abruptly stops working
in the middle, reporting an "Input/output error."  But when the hard disk has errors, usually
what you want is to get an image of all the blocks on the hard disk that are readable - not
just the first few before the first error!  
</p><p>(Note for the pedantic: Yes, I know about dd conv=notrunc,noerror.  They're so easy to 
misuse (mostly by forgetting one of those two options) that they're worth avoiding.)
</p><p>Two tools are available for this particular purpose.  Confusingly, one is called
ddrescue, and the other is called dd_rescue.
</p><p>Around 2001, <a href="http://www.garloff.de/kurt/">Kurt Garloff</a> wrote dd_rescue.  It does what dd 
does if you pass it some options, but it comes with instructions on how to use it to 
recover data from drivers, like by running it multiple times or bakcwards.  A wrapper 
script called <a href="http://freshmeat.net/projects/dd_rhelp/">dd_rhelp</a> automates that process.
</p><p>When you're running dd_rescue on an obscure OS like Mac OS X 10.3 because you dropped your
laptop in Uganda and the Linux partition grew bad blocks and you still want your data, you
will find that dd_rhelp is written as a complicated shell script that relies on GNU versions
of core system utilities.  OS X provides non-GNU versions, and you will waste hours fiddling
with compiling those utilities just so you can run some dumb shell script.
</p><p>In the <a href="http://blue-gnu.biz/content/interview_gnu_ddrescue_039_s_antonio_diaz_diaz">summer of 2004</a>, the same summer as I dropped my laptop, <a href="http://es.geocities.com/ant_diaz2001/">Antonio Diaz Diaz</a> wrote
"ddrescue," a stand-alone C++ tool that does the same things as dd_rhelp, but more sanely
and therefore more efficiently.  It became <a href="http://www.gnu.org/software/ddrescue/ddrescue.html">an official GNU project</a>.
GNU ddrescue, like dd_rhelp, can keep a log file to let itself gracefully pick up after interrputions.
</p><p>When your hard disk fails, you should turn to your backups.  But if you need a tool like
these, just remember: "GNU ddrescue."
</p><p><tt>$ sudo apt-get install <a href="http://packages.debian.org/search?keywords=gddrescue">gddrescue</a></tt>
</p>
		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/ddrescue.html">permanent link and comments</a></i>
		</p>
    
<h2>Wed, 13 Aug 2008</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/sysop/mail-tunnel.html">Sending mail from a laptop</a>
       </h1>
		
<p>I often find myself on what I would call "hostile" networks: They allow only very limited
Internet access, like by blocking port 25 so I can't connect to my mail server.  Maybe for you,
you're never on filtered Internet access, but your home ISP doesn't let you send mail out
when you're not <em>at</em> home, but you want to send email directly from your laptop anyway.
</p>

<p><strong>Just do what I do!</strong>  Let me explain.</p>

<h3>Summary</h3>

<ul>
<li> inetd listens on port 125
</li><li> Connections to it go through an SSH tunnel that executes "nc localhost 25" on some mail server
</li><li> (Optional) A real MTA runs on the laptop, so that I can send mail when offline; when mail delivery fails temporarily, Postfix queues the message until I get back online.</li>
</ul>

<h3>Justification</h3>

<ul>
<li><strong>Easy</strong>. Apps can be configured to use localhost port 25 (or port 125) with no password.
</li><li><strong>Correct</strong>: Postfix (when using 25) handles sending mail when offline, and reattempts delivery for me.
</li><li><strong>Secure</strong>: Encryption all the way through the network, with the icing on the cake that this all looks like SSH, so nosy networkers near your laptop can't even see that's what you're doing.
</li></ul>

<h3>Implementation in Three Steps</h3>

<h4>Step 1: ssh tunnel</h4>

This is the hardest part.  To make things simple, I create a dedicated user on each end.

<h5>On the remote server (server)</h5>

<pre>
[me@laptop] $ ssh me@server
[me@server] $ sudo adduser tunnelendpoint
[me@server] $ sudo su - tunnelendpoint
[tunnelendpoint@server] $ mkdir .ssh
</pre>

<h5>On the local machine (laptop)</h5>

<pre>
[me@laptop] $ sudo adduser tunnelclient
[me@laptop] $ sudo su - tunnelclient
[tunnelclient@laptop] $ ssh-keygen -t rsa # make it passwordless
[tunnelclient@laptop] $ cat .ssh/id_rsa.pub | ssh tunnelendpoint@server 'mkdir -p .ssh ; chmod 0700 .ssh ; cat >> .ssh/authorized_keys'
</pre>

<h5>On the remote server</h5>

<pre>
[me@server] $ sudo su - tunnelendpoint
[tunnelendpoint@server] $ nano -w .ssh/authorized_keys
</pre>

You'll see a key that starts with "ssh-dss".  Before that, add this string and leave a space before "ssh-dss":

<blockquote>
command="nc localhost 25",no-X11-forwarding,no-agent-forwarding,no-port-forwarding 
</blockquote>

<p>(Note: "nc" is in the <strong>netcat</strong> package.)</p>

<h5>On the local machine (laptop)</h5>

<pre>
[tunnelclient@laptop] $ ssh tunnelendpoint@server
220 rose.makesad.us ESMTP Postfix (Debian/GNU): "<a href="http://www.everything2.com/index.pl?node_id=1186356">every tragedy is a beauty that has passed</a>"
</pre>

<p>Hooray!  If you see a reply like mine that starts with "220", then all is well.</p>

<p>You're done with the hard part.  Now the easy parts.</p>

<h4>Step 2: inetd</h4>

<pre>
[me@laptop] $ sudo aptitude install openbsd-inetd
</pre>

<p>Now edit /etc/inetd.conf to have this line:</p>

<pre>
127.0.0.1:125 stream  tcp     nowait  tunnelclient    /usr/bin/ssh    -q -T tunnelendpoint@server
</pre>

<p>Now restart the inetd (<strong>sudo /etc/init.d/openbsd-inetd restart</strong>) and test 
it:</p>

<pre>
[me@laptop] $ telnet localhost 125 
220 rose.makesad.us ESMTP Postfix (Debian/GNU): "<a href="http://www.everything2.com/index.pl?node_id=1186356">every tragedy is a beauty that has passed</a>"
</pre>

<h4>Step 3: Postfix (optional)</h4>

<p>This is my favorite part, but it's only necessary if you plan to send email when you're not 
connected to the Internet.</p>

<p>Just install Postfix, and add this to /etc/postfix/main.cf:</p>

<pre>relayhost = 127.0.0.1:125</pre>

<p>Restart Postfix and you should be set.  Try sending some mail!</p>

<h3>Closing</h3>

<p>I was inspired by a <a href="http://www.debian-administration.org/articles/487">Debian 
Administration</a> post, except I had my own ideas about the best way to do it.  I still like
my way best.</p>

<p>One problem with the above approach is that it requires root on "server".  It would be 
possible to do the ssh tunnel thing without using a separate "tunnelendpoint" account, but 
instead to add that key to your regular username.</p>

		<p style="text-align: right;">
		<i>[<a href=""></a>] 
		<a href="http://www.asheesh.org/note/sysop/mail-tunnel.html">permanent link and comments</a></i>
		</p>
    
</div> <!-- end main copy div  -->
    <!-- ##### Footer ##### -->

    <div id="footer">
      <div class="doNotPrint">
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
<img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" />
</a>
      </div>

      <div>
        Copyright &copy; <a href="http://www.asheesh.org/">Asheesh Laroia</a>.  This work is licensed under a 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">by-sa</a>. <a href="http://www.openhatch.org/">Open Hatch</a> is my current project. You should enjoy my parents' <a href="http://amayabarandgrill.com/">Indian restaurant in Rochester</a>!
      </div>
    </div>
  </body>
</html>
