<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-AU">
  <head>
   <link rel="openid.server" href="http://www.livejournal.com/openid/server.bml" />
   <link rel="openid.delegate" href="http://paulproteus.livejournal.com/" />
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
    <meta name="author" content="root"/>
    <meta name="generator" content="Bluefish 1.0.4"/>
    <link rel="alternate" type="application/atom+xml" 
    href="http://asheesh.org/index.atom" />

    <!-- Navigational metadata for large websites (an accessibility feature): -->
    <link rel="top"      href="./index.html" title="Homepage" />
    <link rel="up"       href="./index.html" title="Up" />
    <link rel="first"    href="./index.html" title="First page" />
    <link rel="previous" href="./index.html" title="Previous page" />
    <link rel="next"     href="./index.html" title="Next page" />
    <link rel="last"     href="./index.html" title="Last page" />
    <link rel="toc"      href="./index.html" title="Table of contents" />
    <link rel="index"    href="./index.html" title="Site map" />

<!-- Change the path to your .css file. This should reflect the weblocation -->
    <link rel="stylesheet" type="text/css" href="/html.flav/gila-screen.css" media="screen" title="Gila (screen)" />
    <link rel="stylesheet" type="text/css" href="/html.flav/gila-print.css" media="print" />
	
	<!--  title is pulled from blosxom -->
    <title></title>
  </head>

  <body>
    <!-- For non-visual user agents: -->
      <div id="top"><a href="#main-copy" class="doNotDisplay doNotPrint">Skip to main content.</a></div>

    <!-- ##### Header ##### -->

    <div id="header">
      <h1 class="headerTitle">
     <!-- again the global variables are pulled from blosxom -->
        <a href="/" title="Browse to homepage">Asheeshworld <span>where are you?</span></a>
      </h1>

      <div class="subHeader">
        <span class="doNotDisplay">Navigation: </span>
        <!-- change or add the following links to represent what you want -->
        <a href="/about/">About</a> |
        <a href="/mmm/">Mmm</a> |
	<a href="/note/">Notes</a> |
        <a href="/rmad/">RMAD</a> |
        <a href="/dwad/">DWAD</a> |
        <a href="/scribble/">Scribbles</a> |
        <a href="/projects/">Projects</a>
      </div>
    </div>
    <div id="side-bar">

      <!-- ##### Left Sidebar ##### -->
	<!-- If you want to use the Blosxom Plugin "menu" by Fletcher T. Penney, leave this area alone... put the menu file in your plugins dir-->
      <div class="leftSideBar">
        <p class="sideBarTitle">Menu</p>
        <ul>
          <li><a href="/">Home</a></li>
          <li></li>
        </ul>  
        <p class="sideBarTitle">This section</p> 
         <ul><li>Why are you here?</li></ul>
   
        <p class="sideBarTitle">Recycling the past</p>
        <span class="sideBarText">
          
        </span>

        <p class="sideBarTitle">Comments</p>
        <span class="sideBarText">
          Comments are welcome.  Email me.
        </span>
      </div>

	<!-- if you want to manually set up your menus.. commnet above .. and uncomment the following and manipulate to your liking. -->
	<!--
      <div class="leftSideBar">
        <p class="sideBarTitle">This Page</p>
        <ul>
          <li><a href="#introduction">Introduction</a></li>
          <li><a href="#cross-browser" title="Improved cross-browser compatibility">Cross-browser</a></li>
          <li><a href="#stylesheets" title="Modified stylesheets">Stylesheets</a></li>
          <li><a href="#accessibility" title="Improved accessibility">Accessibility</a></li>
        </ul>

        <p class="sideBarTitle">Branch Navigation</p>
        <ul>
          <li><a href="http://www.oswd.org/index.phtml">OSWD Home</a></li>
          <li><a href="http://www.oswd.org/browse.php">Browse Designs</a></li>
          <li><a href="http://www.oswd.org/userinfo.phtml?user=haran">haran&rsquo;s Designs</a></li>
          <li><span class="thisPage" title="That's this page!">Gila Homepage</span></li>
        </ul>

        <p class="sideBarTitle">Comments</p>
        <span class="sideBarText">
          Comments and constructive criticisms are welcome
          <a href="http://www.oswd.org/email.phtml?user=haran" title="Email form">via email</a>.
        </span>
      </div>
	-->


      <!-- ##### Right Sidebar ##### 

      <div class="rightSideBar">
        

        <p class="sideBarTitle">Downloads</p>

        <div class="sideBarText"><strong>"Gila" Skin for Blosxom</strong><br />

      </div>
      -->

    </div>  
         <div id="main-copy">
        <!-- <h1 id="introduction" style="border-top: none; padding-top: 0;"></h1>
       </div>
       -->
<h2>Wed, 28 Sep 2011</h2>
       <h1 id="cross-browser" style="border-top: none; padding-top: 0; padding-bottom: 0;">
        <a href="http://www.asheesh.org/note/free-culture/network.html">Why it's important to defeat the network management infrastructure
</a>
       </h1>
		<p>I see the Internet as an ongoing conversation between millions of computers. Some of these computers are
controlled by me or by my friends. When network administrators make it harder for our computers
to send messages to each other, I get upset.
</p><p>Angry, actually.
</p>
<h2 id="w_high-school">High school</h2>
<p>I didn't always feel quite so strongly about this.
</p><p>Twelve years ago, I was enjoying a foray into running a server at home. I was excited to connect to
it from the Brighton High School computer network. I couldn't connect, though; I discovered that the high school's Internet
connection was filtered through a proxy that only would connect to web servers.
</p><p>I had an SSH server I wanted to connect to, so I could read my email in
<a href="http://packages.debian.org/sid/alpine">PINE</a>. SSH isn't the web, so the proxy
wouldn't let me through.
</p><p>Then I learned about <a href="http://nocrew.org/software/httptunnel.html">GNU httptunnel</a>. This is a pair of
programs:
</p>
<ul><li> a <i>server</i>, that sits on my server at home and runs a fake web server; and
</li><li> a <i>client</i>, that I run at school, that lets me connect through the fake web server to the SSH service.
</li></ul>
<p>After some experimentation, I got the tools working.
</p><p>From time to time, I would work on a file at home
and forget to bring a copy to school. Now I could use the tunnel to connect to my desktop and download it.
</p><p>From this experience, I took two lessons:
</p>
<ol><li> Whatever network restrictions there are, I probably want to circumvent them.
</li><li> It will probably be reasonably easy to do so.
</li></ol>
<p>The experience reminds me of John Gilmore's famous quote:
</p>
<blockquote>The Net interprets censorship as damage and routes around it.</blockquote>
<p>I enjoyed reading my email from school. I never felt I was endangering the high school network. I did
try to set up my tunnels as fast as possible in case a teacher wandered by.
</p>
<h2 id="w_a-conversation-between-computers">A conversation between computers</h2>
<p>To many people, the Internet is a set of resources that humans can access.
</p><p>To me, this is wrong for two important reasons:
</p>
<ol><li> It is factually incorrect.
</li><li> It is a political mistake.
</li></ol>
<p>Factually speaking, every time you request a web page, you send a request to a remote computer to send it to you. That computer, upon receiving
the request, can do whatever it wants.  It is, approximately, sheer luck that when you visit <a href="http://i.imgur.com/zvak0.jpg">an image like this</a> twice,
you see the same thing.
</p><p>Politically speaking, this perspective hides one of the real crimes committed by Internet censors: fraud.
</p><p>Four years ago or so, Comcast famously used <a href="https://www.eff.org/wp/packet-forgery-isps-report-comcast-affair">heavy-handed techniques</a> to prevent users
from effectively using the BitTorrent file sharing software. If you belive in the Internet as a set of resources, there isn't all <i>that</i> much
to complain about. After all, they let users access the whole World-Wide Web.
</p><p>To see the world the way I do, you'll need some basic knowledge of Internet protocols. As a refresher,
if you are on computer A, sending a file to computer B, Internet traffic between them generally
looks like this.
</p><p>First, a handshake:
</p>
<ul><li> A -&gt; B: Hi
</li><li> B -&gt; A: Oh, hi!
</li><li> A -&gt; B: I'm going to send you a file
</li><li> B -&gt; A: Cool, go ahead.
</li></ul>
<p>Then the file transfer begins, sending chunks until they are all sent:
</p>
<ul><li> A -&gt; B: Here's one chunk
</li><li> B -&gt; A: Great, send more chunks
</li><li> A -&gt; B: All done sending
</li><li> B -&gt; A: Hooray! I just <a href="http://www.youtube.com/watch?v=dWBmaKk32fE">love receiving files</a>!
</li><li> B -&gt; A: Okay, bye!
</li><li> A -&gt; B: Bye!
</li></ul>
<p>Comcast does something exciting: in order to make the file transfer fail,
Comcast sends you a specially-crafted message that appears to come from
computer B. It says, "Okay, bye!"
</p><p>So your computer stops sending.
</p><p>From a user's perspective, the file transfer stops. At the network perspective, Comcast lied.
Comcast is <i>impersonating</i> a remote party in a conversation.
</p><p>Imagine with me, <a href="http://www.youtube.com/watch?v=bDOYN-6gdRE">for a moment</a>, that this is a phone conversation.
When you call certain people, your phone operator is interrupting the conversation to play a message specially crafted
to sound like your friend saying, "I have to go now!" You might hang up, thinking the call is over.
</p><p>As it happens, in the Comcast BitTorrent blocking case, you can work around the tactic: if you configure your computer to ignore all "Okay, bye!" messages,
the file transfer works fine.
</p><p>If you see the web as a collection of resources, you might ask why your ISP is blocking access to a
particular site. You might wonder why they're blocking BitTorrent.
</p><p>If you're me, you'd ask: <a href="http://www.youtube.com/watch?v=gGMc3tWhuY0">What gives them the right</a> to lie about their identity when
talking to you? To impersonate the computer operated by your friend across the 'net?
</p><p>It strikes me as commercial fraud. Whatever sysadmin deployed this
automated fraud technology needs to be put in jail -- if not him, then his boss.
</p>
<h2 id="w_port-blocking">Port blocking</h2>
<p>Instead of actively impersonating a remote computer, another common tactic is to simply
drop certain messages on the floor. This is most of what we ask "firewalls" to do.
(Unless the network notifies you it did this,
you can consider this a lie by omission.)
</p><p>Many guest wifi networks drop Internet messages between computers based on the port number.
</p><p>Different ports, for readers who don't know, are typically used for different kinds of services.
A computer on the Internet can provide web service by listening on port number 80, and provide
inbound email service at the same time by listening on port 25. The secure login service ("SSH")
is usually found on port 22.
</p><p>One of my housemates recently sent me an email complaining that she couldn't connect to her
web hosting service. She was on someone else's wifi network. We eventually determined
the cause: the network was dropping messages her computer sent to the hosting service
on port 22. (Also, the organization in question outsourced their network management
services, so there was no one in the building she could complain to.)
</p><p>At this point, I got angry. The network admins are not making their network safer, but they are
making it harder for her to do what she wants. Port 22 is <i>not</i> a dangerous thing
to permit people to use.
</p><p>So I configured one of my servers to listen on a port she <i>could</i> access. Like the
GNU HTTP tunnel configuration I used in high school, the machine would relay messages
from her limited network into the real Internet. In this case, we used
<a href="http://www.rutschle.net/tech/sslh.shtml">sslh</a> on the server, and
<a href="http://www.statusq.org/archives/2008/07/03/1916/">configured her computer</a>'s SSH client
to use a "ProxyCommand."
</p><p>Moments like this remind me that the Internet -- that is, the routing of messages between computers,
between (inter) networks (net) -- is vanishing before my eyes. I'm lucky in that I remember the old way; I started to use the Internet
in an era where you could expect that packets would actually
be sent to their destination, not rudely dropped on the floor or impersonated.
</p>
<h2 id="w_summary">Summary</h2>
<p>Now, it is normal to see packets mangled by Internet service providers. ISPs forge IP headers,
sometimes
<a href="http://en.wikipedia.org/wiki/Virgin_Media#Proxy_servers">to make the network seem faster</a>,
other times to insert advertisements into other people's web pages. Usually
there is no way to opt out.
</p><p>What all these network tricks have in common is that the ISP impersonates one party in the conversation.
</p><p>When I ask the network to please send a message to another computer for me, I'm not asking to be lied-to.
</p>
		<p style="text-align: right;">
		<i>[<a href="/note/free-culture">/note/free-culture</a>] 
		<a href="http://www.asheesh.org/note/free-culture/network.html">permanent link and comments</a></i>
		</p>
    
</div> <!-- end main copy div  -->
    <!-- ##### Footer ##### -->

    <div id="footer">
      <div class="doNotPrint">
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
<img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" />
</a>
      </div>

      <div>
        Copyright &copy; <a href="http://www.asheesh.org/">Asheesh Laroia</a>.  This work is licensed under a 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">by-sa</a>. <a href="http://www.openhatch.org/">Open Hatch</a> is my current project. You should enjoy my parents' <a href="http://amayabarandgrill.com/">Indian restaurant in Rochester</a>!
      </div>
    </div>
  </body>
</html>
